:PROPERTIES:
:ID:       5e313e85-ddc5-4b7e-821e-436796a090ce
:END:
#+title: DockerQuickStart

- course done on CentOS 8

* Install
- install extra packages
#+begin_src bash
sudo yum install -y yum-utils device-mapper-persistent-data lvm2
#+end_src

- add docker to yum and install
#+begin_src bash
sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo
sudo yum install docker-ce --allowerasing
#+end_src

- enable and start docker
#+begin_src bash
sudo systemctl enable docker --now
#+end_src

- add user to ~docker~ group
  #+begin_src bash
  sudo usermod -aG docker user
  #+end_src

** Install using a script
#+begin_src bash
wget -qO- https://get.docker.com | sh
#+end_src

* Commands
- build docker image from Dockerfile
  #+begin_src bash
  docker build /path/to/Dockerfile
  #+end_src

- run a container
  #+begin_src shell
  docker container run  $image
  #+end_src
  - flags:
    - -it -> interactive, tty
    - --name -> assign a name to the container
    - -d -> detached
    - -v source:target -> mount a volume
  - $image can be a container id or an image name (souch as ~nginx~)

- open a shell in a contaner
  #+begin_src shell
  docker container exec -it devcont sh
  #+end_src

- create a volume
  #+begin_src shell
  docker volume create $volume_name
  #+end_src
